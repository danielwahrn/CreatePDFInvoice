(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/11.ca5d7056.jpg"},218:function(e,t,a){e.exports=a(440)},223:function(e,t,a){},225:function(e,t,a){},235:function(e,t){},237:function(e,t){},268:function(e,t){},269:function(e,t){},348:function(e,t,a){e.exports=a.p+"static/media/bg.f90e631d.jpg"},440:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),l=a.n(c),s=(a(223),a(225),a(16)),o=a(17),i=a(18),m=a(13),u=a(19),d=a(462),h=a(465),f=a(457),p=a(25),g=a(27),E=a(20),b=a(14),v=a(215),y=a(467),k=a(323),S=a(445),O=a(446),N=a(447),C=a(448),T=a(449),j=a(463),w=a(450),R=a(451),x=a(452),L=a(453),M=a(454),H=a(455),D=a(456),P=a(47),U=a(53),_=(a(321),a(76)),I=a(77),F="/api";function A(){var e=window.localStorage.getItem("user");if(void 0!==e)return console.log("user",e),void 0!==e?JSON.parse(e):null;this.props.history.push("/")}function G(){localStorage.removeItem("user"),localStorage.removeItem("user_token")}function W(){G()}var J={apiFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.headers=t.headers?t.headers:{},new Promise(function(a,n){fetch("".concat(F).concat(e),t).then(function(e){return e.json()}).then(function(e){e.error&&(n(),W()),a(e)}).catch(function(e){n(e)})})},apiFetchStream:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.headers=t.headers?t.headers:{},new Promise(function(a,n){fetch("".concat(F).concat(e),t).then(function(e){return e.blob()}).then(function(e){e.error&&(console.log(e.error),n(),W()),a(e)})})},logout:W,isAdmin:function(){return A()&&"admin"===A().role},saveUser:function(e){localStorage.setItem("user",JSON.stringify(e))},removeUser:G,saveToken:function(){return window.localStorage.getItem("user_token")},getToken:function(){return window.localStorage.getItem("user_token")},getCurrentUser:A};function q(){var e=Object(_.a)(["\n    display: inline-block;\n    vertical-align: middle;\n"]);return q=function(){return e},e}var B=I.a.div(q()),Q=function(e){var t=e.setData,a=e.api;return r.a.createElement(B,null,r.a.createElement("input",{type:"file",onChange:function(e){var n=new FormData,r=new FileReader,c=e.target.files[0],l=null;r.onloadend=function(){l=(l=(l=r.result).split(","))[1],console.log("text",l),n.append("file",l);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l})};J.apiFetch(a,e).then(function(e){e.status?(alert("Load successfully"),t(e.result)):alert("Load faild")}).catch(function(e){console.log(e)})},r.readAsDataURL(c)}}))};function z(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var K=function(e){Object(u.a)(a,e);var t=z(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).addContractor=function(){var e=n.state,t=e.contractor,a=e.generatePassword;if(n.setState({submitted:!0}),n.setState({contractor:Object(E.a)({},t,Object(g.a)({},"password",a))}),""!==t.firstname&&""!==t.lastname&&""!==t.username&&""!==t.email&&""!==t.phone&&""!==t.password){if(t.phone.indexOf("+")<0)return void n.setState({misPhone:!0});var r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},t))};J.apiFetch("/admin/addcontractor",r).then(function(e){e.status?(n.addToggle(),n.setState({contractorlist:e.result})):alert(e.result)}).catch(function(e){})}},n.editContractor=function(){var e=n.state.selectedContractor;if(n.setState({submitted:!0}),""!==e.firstname&&""!==e.lastname&&""!==e.username&&""!==e.email&&""!==e.phone&&""!==e.password){if(e.phone.indexOf("+")<0)return void n.setState({misPhone:!0});var t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/admin/editcontractor",t).then(function(e){e.status&&(n.setState({contractorlist:e.result}),n.editToggle())}).catch(function(e){})}},n.deleteContractor=function(){var e=n.state.selectedContractor,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/admin/deletecontractor",t).then(function(e){e.status&&(n.setState({contractorlist:e.result}),n.deleteToggle())}).catch(function(e){})},n.onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n.loadText=function(e){console.log("data",e),n.setState({contractorList:e}),window.location.reload()},n.state={loadURL:"",selectedContractor:[],taskModal:!1,inviteModal:!1,addModal:!1,editModal:!1,deleteModal:!1,numPages:null,pageNumber:1,searchText:"document",contractorlist:[],contractor:{id:-1,firstname:"",lastname:"",username:"",jobsite:"",password:"",confirm:"",email:"",phone:""},submitted:!1,misPhone:!1,generatePassword:""},n.taskToggle=n.taskToggle.bind(Object(b.a)(n)),n.storeTask=n.storeTask.bind(Object(b.a)(n)),n.inviteToggle=n.inviteToggle.bind(Object(b.a)(n)),n.addToggle=n.addToggle.bind(Object(b.a)(n)),n.editToggle=n.editToggle.bind(Object(b.a)(n)),n.deleteToggle=n.deleteToggle.bind(Object(b.a)(n)),n.onHandleChange=n.onHandleChange.bind(Object(b.a)(n)),n.onUpdateHandleChange=n.onUpdateHandleChange.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.apiFetch("/admin/getcontractors",{method:"GET",header:{"content-type":"application/json"}}).then(function(t){t.status?e.setState({contractorlist:t.result}):alert("load faild")}).catch(function(e){console.log("getcontractorlisterror",e)})}},{key:"showInviteModal",value:function(e){var t=this.state.contractorlist.filter(function(t){return t._id===e});this.setState({selectedContractor:t[0]}),this.setState({inviteModal:!0})}},{key:"showAddContractorModal",value:function(){var e=Object(v.generate)({length:10,numbers:!0});this.setState({generatePassword:e}),this.setState({addModal:!0})}},{key:"showEditContractorModal",value:function(e){var t=this.state.contractorlist.filter(function(t){return t._id===e});this.setState({selectedContractor:t[0]}),this.setState({editModal:!0})}},{key:"showDeleteConfirmModal",value:function(e){var t=this.state.contractorlist.filter(function(t){return t._id===e});this.setState({selectedContractor:t[0]}),this.setState({deleteModal:!0})}},{key:"taskToggle",value:function(){this.setState({taskModal:!this.state.taskModal})}},{key:"inviteToggle",value:function(){this.setState({inviteModal:!this.state.inviteModal})}},{key:"addToggle",value:function(){this.setState({addModal:!this.state.addModal})}},{key:"editToggle",value:function(){this.setState({editModal:!this.state.editModal})}},{key:"deleteToggle",value:function(){this.setState({deleteModal:!this.state.deleteModal})}},{key:"loadPDF",value:function(){var e=this;J.apiFetchStream("/admin/viewtask",{method:"GET",headers:{"Content-Type":"application/pdf"}}).then(function(t){console.log(t);var a=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(a);e.setState({loadURL:n}),e.setState({selectedContractor:{doc:n}})}).catch(function(e){console.log(e)})}},{key:"sendInvite",value:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},this.state.selectedContractor))};J.apiFetch("/admin/sendInvite",t).then(function(t){t.status&&(e.inviteToggle(),alert("sent successful"))}).catch(function(e){alert("sent error")})}},{key:"storeTask",value:function(){var e=this;this.setState({taskModal:!this.state.taskModal}),fetch("/api/storeTask",{method:"POST",headers:{"Content-Type":"application/pdf"}}).then(function(e){return e.blob()}).then(function(t){console.log(t);var a=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(a);e.setState({loadURL:n}),e.setState({selectedContractor:{doc:n}})}).catch(function(e){console.log(e)})}},{key:"export2Text",value:function(){J.apiFetch("/admin/exportuser2text",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){e.status&&Object(U.saveSync)(e.result,"contractors.txt")}).catch(function(e){alert(e)})}},{key:"onHandleChange",value:function(e){var t=this.state.contractor,a=e.target,n=a.name,r=a.value;this.setState({contractor:Object(E.a)({},t,Object(g.a)({},n,r))})}},{key:"onUpdateHandleChange",value:function(e){var t=this.state.selectedContractor,a=e.target,n=a.name,r=a.value;this.setState({selectedContractor:Object(E.a)({},t,Object(g.a)({},n,r))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.inviteModal,c=t.addModal,l=t.editModal,s=t.deleteModal,o=t.contractor,i=t.contractorlist,m=t.selectedContractor,u=t.submitted,d=[{Header:"",id:"id",width:40,accessor:function(e){return r.a.createElement(y.a,{type:"checkbox",id:"eCheckbox1",value:e._id,label:"\xa0"})}},{Header:"First Name",accessor:"firstname"},{Header:"Last Name",accessor:"lastname"},{Header:"Job Site",accessor:"jobsite"},{Header:"User Name",accessor:"username"},{Header:"Password",accessor:"password"},{Header:"Phone Number",accessor:"phone"},{Header:"Email",accessor:"email"},{Header:"Invite",id:"invite",width:120,accessor:function(t){return r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showInviteModal(t._id)}},"Send ",r.a.createElement("i",{className:"lnr-location"}," "))}},{Header:"Actions",id:"actions",width:120,accessor:function(t){return r.a.createElement("div",null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showEditContractorModal(t._id)}},r.a.createElement("i",{className:"lnr-pencil"}," ")),r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDeleteConfirmModal(t._id)}},r.a.createElement("i",{className:"lnr-trash"}," ")))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{md:"12"},r.a.createElement(N.a,{className:"main-card mb-3"},r.a.createElement(C.a,{className:"text-right"},r.a.createElement("i",{className:"lnr-user"}," "),"Contractors Management",r.a.createElement("div",{className:"btn-actions-pane-right"},r.a.createElement(S.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow",color:"secondary",onClick:function(t){return e.showAddContractorModal()},style:{marginRight:10}},r.a.createElement("i",{className:"pe-7s-add-user"}," ")),r.a.createElement(k.a,{outline:!0,className:"btn-shadow",color:"secondary",onClick:function(t){return e.export2Text()},style:{marginRight:10}},r.a.createElement("i",{className:"pe-7s-diskette"}," ")),r.a.createElement(Q,{setData:this.loadText,api:"/admin/loaduserfromtext"})))),r.a.createElement(T.a,null,r.a.createElement(P.a,{data:i,columns:d,defaultPageSize:10,className:"-striped -highlight"}))))),r.a.createElement(j.a,{isOpen:a,toggle:this.inviteToggle,className:"modal-lg"},r.a.createElement(w.a,{toggle:this.inviteToggle},m.username),r.a.createElement(R.a,null,r.a.createElement(x.a,null,r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"text",name:"email",id:"email",style:{display:"none"},value:this.state.selectedContractor.email})),r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"text",name:"phone",id:"phone",style:{display:"none"},value:this.state.selectedContractor.phone})),r.a.createElement(L.a,null,r.a.createElement(H.a,null,"UserName"),r.a.createElement(M.a,{type:"text",name:"username",id:"username",value:this.state.selectedContractor.username,readOnly:!0})),r.a.createElement(L.a,null,r.a.createElement(H.a,null,"Password"),r.a.createElement(M.a,{type:"text",name:"password",id:"password",value:this.state.selectedContractor.password,readOnly:!0})),r.a.createElement("div",{id:"webviewer"}))),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.inviteToggle},"Cancel"),r.a.createElement(k.a,{type:"submit",color:"secondary",onClick:this.sendInvite.bind(this)},"Send")," ")),r.a.createElement(j.a,{isOpen:c,toggle:this.addToggle},r.a.createElement(w.a,null,"Add Contractor"),r.a.createElement(R.a,null,r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"First Name: "),r.a.createElement(M.a,{name:"firstname",placeholder:"Input...",onChange:this.onHandleChange}),u&&!o.firstname&&r.a.createElement("div",{className:"help-block"},"firstname is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Last Name: "),r.a.createElement(M.a,{name:"lastname",placeholder:"Input...",onChange:this.onHandleChange}),u&&!o.lastname&&r.a.createElement("div",{className:"help-block"},"lastname is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"User Name: "),r.a.createElement(M.a,{name:"username",placeholder:"Input...",onChange:this.onHandleChange}),u&&!o.username&&r.a.createElement("div",{className:"help-block"},"username is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Email: "),r.a.createElement(M.a,{name:"email",placeholder:"Input...",onChange:this.onHandleChange}),u&&!o.email&&r.a.createElement("div",{className:"help-block"},"email is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Phone: "),r.a.createElement(M.a,{name:"phone",placeholder:"Input...",onChange:this.onHandleChange}),u&&!o.phone&&r.a.createElement("div",{className:"help-block"},"PhoneNumber is required"),this.state.misPhone&&r.a.createElement("div",{className:"help-block"},"please input (+) countrycode")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Password: "),r.a.createElement(M.a,{name:"password",value:this.state.generatePassword,onChange:this.onHandleChange})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"JobSite: "),r.a.createElement(M.a,{name:"jobsite",placeholder:"Input...",onChange:this.onHandleChange}))),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.addToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.addContractor},"Save"))),r.a.createElement(j.a,{isOpen:l,toggle:this.editToggle},r.a.createElement(w.a,null,"Update Contractor"),r.a.createElement(R.a,null,r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"First Name: "),r.a.createElement(M.a,{name:"firstname",placeholder:"Input...",value:m?m.firstname:"",onChange:this.onUpdateHandleChange}),u&&!m.firstname&&r.a.createElement("div",{className:"help-block"},"First Name is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Last Name: "),r.a.createElement(M.a,{name:"lastname",placeholder:"Input...",value:m?m.lastname:"",onChange:this.onUpdateHandleChange}),u&&!m.lastname&&r.a.createElement("div",{className:"help-block"},"Last Name is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"User Name: "),r.a.createElement(M.a,{name:"username",placeholder:"Input...",value:m?m.username:"",onChange:this.onUpdateHandleChange}),u&&!m.username&&r.a.createElement("div",{className:"help-block"},">User Name is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Email: "),r.a.createElement(M.a,{name:"email",placeholder:"Input...",value:m?m.email:"",onChange:this.onUpdateHandleChange}),u&&!m.email&&r.a.createElement("div",{className:"help-block"},"Email is required")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Phone: "),r.a.createElement(M.a,{name:"phone",placeholder:"Input...",value:m?m.phone:"",onChange:this.onUpdateHandleChange}),u&&!m.phone&&r.a.createElement("div",{className:"help-block"},"PhoneNumber is required"),this.state.misPhone&&r.a.createElement("div",{className:"help-block"},"please input +")),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Password: "),r.a.createElement(M.a,{name:"password",placeholder:"Input...",value:m?m.password:"",onChange:this.onUpdateHandleChange})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"JobSite: "),r.a.createElement(M.a,{name:"jobsite",placeholder:"Input...",value:m?m.jobsite:"",onChange:this.onUpdateHandleChange}))),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.editToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.editContractor},"Update"))),r.a.createElement(j.a,{isOpen:s,toggle:this.deleteToggle},r.a.createElement(w.a,null,"Delete Confirm"),r.a.createElement(R.a,null,"Do you want to delete this contractor?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.deleteToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.deleteContractor},"Confirm"))))}}]),a}(r.a.Component);var V=Object(p.b)(function(e){return{loggedIn:e.authentication.loggedIn}})(K),Y=a(38),X=a.n(Y),Z=a(58),$=a(152),ee=a.n($),te=a(324);function ae(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var ne=function(e){Object(u.a)(a,e);var t=ae(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).clear=function(){n.sigPad.clear()},n.clear1=function(){n.sigPad1.clear()},n.trim=function(){var e=Object(Z.a)(X.a.mark(function e(t){var a,r,c,l,s,o,i,m,u,d;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.pdf,n.setState({signing:!0}),r=n.sigPad.getTrimmedCanvas().toDataURL("image/png"),c=n.sigPad1.getTrimmedCanvas().toDataURL("image/png"),!a){e.next=27;break}return e.next=7,te.PDFDocument.load(a);case 7:return l=e.sent,e.next=10,l.embedPng(r);case 10:return s=e.sent,o=s.scale(.8),1===t&&n.setState({signed1:!0}),(i=l.getPages()).forEach(function(e){e.drawImage(s,{x:170,y:230,width:o.width,height:o.height})}),e.next=17,l.embedPng(c);case 17:return m=e.sent,u=m.scale(.8),2===t&&n.setState({signed2:!0}),i.forEach(function(e){e.drawImage(m,{x:470,y:230,width:u.width,height:u.height})}),e.next=23,l.saveAsBase64({dataUri:!0});case 23:d=e.sent,n.setState({loadURL:d,signing:!1}),e.next=28;break;case 27:n.setState({signing:!1});case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.state={selectedDocket:[],docketList:[],loadURL:"",viewModal:!1,approveModal:!1,rejectModal:!1,sendModal:!1,deleteModal:!1,pdf:null,signed1:!1,signed2:!1,manageremail:""},n.sigPad={},n.sigPad1={},n.viewToggle=n.viewToggle.bind(Object(b.a)(n)),n.approveToggle=n.approveToggle.bind(Object(b.a)(n)),n.rejectToggle=n.rejectToggle.bind(Object(b.a)(n)),n.sendToggle=n.sendToggle.bind(Object(b.a)(n)),n.deleteToggle=n.deleteToggle.bind(Object(b.a)(n)),n.doApprove=n.doApprove.bind(Object(b.a)(n)),n.doReject=n.doReject.bind(Object(b.a)(n)),n.doSend=n.doSend.bind(Object(b.a)(n)),n.doDelete=n.doDelete.bind(Object(b.a)(n)),n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.export2Text=n.export2Text.bind(Object(b.a)(n)),n.trim=n.trim.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.apiFetch("/admin/loaddocket",{method:"GET",headers:{"Content-Type":"application/txt"}}).then(function(t){e.setState({docketList:t.result})}).catch(function(e){console.log(e)})}},{key:"showRespondModal",value:function(e){var t=this.state.docketList.filter(function(t){return t._id===e});this.setState({selectedDocket:t[0]}),this.setState({sendModal:!0})}},{key:"showApproveConfirmModal",value:function(e){var t=this.state.docketList.filter(function(t){return t._id===e});this.setState({selectedDocket:t[0]}),this.setState({approveModal:!0})}},{key:"showRejectConfirmModal",value:function(e){var t=this.state.docketList.filter(function(t){return t._id===e});this.setState({selectedDocket:t[0]}),this.setState({rejectModal:!0})}},{key:"showDeleteConfirmModal",value:function(e){var t=this.state.docketList.filter(function(t){return t._id===e});this.setState({selectedDocket:t[0]}),this.setState({deleteModal:!0})}},{key:"showDocketViewModal",value:function(e,t){var a=this,n=this.state.docketList.filter(function(t){return t._id===e});this.setState({selectedDocket:n[0]});var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})};J.apiFetchStream("/admin/viewdocket",r).then(function(e){if(console.log(e),void 0!==e.status)alert(e.message);else{var t=new Blob([e],{type:"application/pdf"}),n=URL.createObjectURL(t);a.setState({loadURL:n}),a.blob2arraybuffer(t)}}).catch(function(e){alert(e)}),this.setState({viewModal:!0})}},{key:"viewToggle",value:function(){this.setState({viewModal:!this.state.viewModal})}},{key:"approveToggle",value:function(){this.setState({approveModal:!this.state.approveModal})}},{key:"rejectToggle",value:function(){this.setState({rejectModal:!this.state.rejectModal})}},{key:"sendToggle",value:function(){this.setState({sendModal:!this.state.sendModal})}},{key:"deleteToggle",value:function(){this.setState({deleteModal:!this.state.deleteModal})}},{key:"doApprove",value:function(){var e=this,t=this.state.selectedDocket._id,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,status:"approve"})};J.apiFetch("/admin/respondresult",a).then(function(t){e.setState({docketList:t.result}),e.approveToggle()}).catch(function(e){console.log(e)})}},{key:"doReject",value:function(){var e=this,t=this.state.selectedDocket._id,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t,status:"reject"})};J.apiFetch("/admin/respondresult",a).then(function(t){e.setState({docketList:t.result}),e.rejectToggle()}).catch(function(e){console.log(e)})}},{key:"doSend",value:function(){var e=this,t=this.state.selectedDocket,a=t.status,n=t.email,r=t._id,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,email:n,status:a})};J.apiFetch("/admin/sendresult",c).then(function(t){console.log(t),e.sendToggle(),alert("sent successful")}).catch(function(e){console.log(e)})}},{key:"doDelete",value:function(){var e=this,t=this.state.selectedDocket._id,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:t})};J.apiFetch("/admin/deletedocket",a).then(function(t){e.setState({docketList:t.result}),e.deleteToggle()}).catch(function(e){console.log(e)})}},{key:"blob2arraybuffer",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){var a;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:a=e.sent,this.setState({pdf:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeBase64Mark",value:function(e){return-1===e.indexOf(";base64,")?e.split(",")[1]:e.split(";base64,")[1]}},{key:"uploadDoc",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,a,n,r,c,l,s,o,i,m=this;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.selectedDocket,n=t.loadURL,r=t.manageremail,c=a._id,l=a.status,s=r,o=this.removeBase64Mark(n),i="Waiting"===l?{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:o,docketid:c,email:s})}:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,docketid:c})},J.apiFetch("/admin/uploaddoc",i).then(function(e){m.setState({docketList:e.result}),m.viewToggle()}).catch(function(e){console.log(e)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.selectedDocket;this.setState({selectedDocket:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"handleManagerEmailChange",value:function(e){var t=e.target.value;this.setState({manageremail:t})}},{key:"export2Text",value:function(){J.apiFetch("/admin/export2text",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){e.status&&alert("Successful")}).catch(function(e){alert(e)})}},{key:"saveAsFile",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})};J.apiFetch("/admin/export2TextHistory?id="+e,t).then(function(e){e.status&&Object(U.saveSync)(e.data,e.docket_name+".txt")}).catch(function(e){alert(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.docketList,c=t.loadURL,l=t.selectedDocket;console.log("sigpad",this.sigPad);var s=[{Header:"Contractor",accessor:"contractorname"},{Header:"Date",accessor:"date"},{Header:"Notes",accessor:"notes"},{Header:"Status",accessor:"status"},{Header:"Actions",id:"path",accessor:function(t){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDocketViewModal(t._id,t.path)},style:{marginRight:10}},"Signed"===t.status?r.a.createElement("i",{className:"lnr-eye"}):r.a.createElement("i",{className:"lnr-pencil"})),r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.saveAsFile(t._id)}},r.a.createElement("i",{className:"pe-7s-diskette"})),r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDeleteConfirmModal(t._id)}},r.a.createElement("i",{className:"lnr-trash"})))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{md:"12"},r.a.createElement(N.a,{className:"main-card mb-3"},r.a.createElement(C.a,{className:"text-right"},r.a.createElement("i",{className:"lnr-book"}," "),"  Dockets Management"),r.a.createElement(T.a,null,r.a.createElement(P.a,{data:a,columns:s,defaultPageSize:10,className:"-striped -highlight"}))))),r.a.createElement(j.a,{isOpen:this.state.viewModal,toggle:this.viewToggle,style:{maxWidth:"800px",height:"auto"}},r.a.createElement(w.a,{toggle:this.viewToggle},l?l.contractor:""),r.a.createElement(R.a,null,""!==c?r.a.createElement("iframe",{src:c,style:{width:"750px",height:"600px",margin:"auto"},frameBorder:"1",title:"iframe"}):"","Waiting"===l.status?r.a.createElement("div",null,r.a.createElement("div",{className:"text-center"},r.a.createElement(ee.a,{penColor:"black",ref:function(t){e.sigPad=t},onEnd:function(){return e.trim(1)},canvasProps:{width:200,height:80,className:"sigCanvas"}}),r.a.createElement(ee.a,{penColor:"black",ref:function(t){e.sigPad1=t},onEnd:function(){return e.trim(2)},canvasProps:{width:200,height:80,className:"sigCanvas"}}))):"","Waiting"===l.status&&r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"input",name:"email",placeholder:"Email here...",value:this.state.manageremail,onChange:this.handleManagerEmailChange.bind(this),style:{marginTop:10}}))),r.a.createElement(D.a,null,"Waiting"===l.status&&r.a.createElement(k.a,{color:"secondary",onClick:this.uploadDoc.bind(this),disabled:""===this.state.manageremail||!this.state.signed1||!this.state.signed2},"Save"))),r.a.createElement(j.a,{isOpen:this.state.approveModal,toggle:this.approveToggle},r.a.createElement(w.a,{toggle:this.approveToggle},"Confirm Approve"),r.a.createElement(R.a,null,"Would you like to approve current docket?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.approveToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.doApprove},"Approve"))),r.a.createElement(j.a,{isOpen:this.state.rejectModal,toggle:this.rejectToggle},r.a.createElement(w.a,{toggle:this.rejectToggle},"Confirm Reject"),r.a.createElement(R.a,null,"Would you like to reject current docket?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.rejectToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.doReject},"Reject"))),r.a.createElement(j.a,{isOpen:this.state.sendModal,toggle:this.sendToggle},r.a.createElement(w.a,{toggle:this.sendToggle},"Confirm Send Result"),r.a.createElement(R.a,null,"Would you like to send current docket result?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.sendToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.doSend},"Send"))),r.a.createElement(j.a,{isOpen:this.state.deleteModal,toggle:this.deleteToggle},r.a.createElement(w.a,{toggle:this.rejectToggle},"Delete Docket"),r.a.createElement(R.a,null,"Would you like to delete current docket?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.deleteToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.doDelete},"Delete"))))}}]),a}(r.a.Component);var re=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(ne);function ce(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var le=[{id:1,title:"KKK",contractor:"LLL"},{id:2,title:"KKK",contractor:"LLL"}],se=function(e){Object(u.a)(a,e);var t=ce(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).loadText=function(e){n.setState({taskList:e}),console.log("data",e)},n.deleteTask=function(){var e=n.state.selectedTask,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/admin/deletetask",t).then(function(e){e.status?(n.setState({taskList:e.result}),n.deleteToggle()):alert("delete failed")}).catch(function(e){alert("delete error",e)})},n.editTask=function(){var e=n.state.selectedTask,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/admin/edittask",t).then(function(e){e.status?(n.setState({taskList:e.result}),n.editToggle()):alert("edit failed")}).catch(function(e){alert("edit error")})},n.newTask=function(){var e=n.state.selectedTask,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/admin/newtask",t).then(function(e){e.status?(n.setState({taskList:e.result}),n.newToggle()):alert("new failed")}).catch(function(e){alert("new error")})},n.state={taskModal:!1,taskList:[],selectedTask:[],task:{code:"",title:"",description:""},deleteModal:!1,editModal:!1,newModal:!1},n.taskToggle=n.taskToggle.bind(Object(b.a)(n)),n.editToggle=n.editToggle.bind(Object(b.a)(n)),n.newToggle=n.newToggle.bind(Object(b.a)(n)),n.deleteToggle=n.deleteToggle.bind(Object(b.a)(n)),n.onUpdateHandleChange=n.onUpdateHandleChange.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.apiFetch("/admin/loadtask",{method:"GET",headers:{"Content-Type":"application/txt"}}).then(function(t){e.setState({taskList:t.result})}).catch(function(e){console.log(e)})}},{key:"showTaskModal",value:function(e){console.log(e),this.setState({selectedUser:le[e]}),this.setState({taskModal:!0})}},{key:"showAddTaskModal",value:function(e){this.setState({newModal:!0})}},{key:"showEditTaskModal",value:function(e){var t=this.state.taskList.filter(function(t){return t._id===e});this.setState({selectedTask:t[0]}),this.setState({editModal:!0})}},{key:"showDeleteConfirmModal",value:function(e){var t=this.state.taskList.filter(function(t){return t._id===e});this.setState({selectedTask:t[0]}),this.setState({deleteModal:!0})}},{key:"taskToggle",value:function(){this.setState({taskModal:!this.state.taskModal})}},{key:"deleteToggle",value:function(){this.setState({deleteModal:!this.state.deleteModal})}},{key:"editToggle",value:function(){this.setState({editModal:!this.state.editModal})}},{key:"newToggle",value:function(){this.setState({newModal:!this.state.newModal})}},{key:"storeTask",value:function(){this.setState({taskModal:!this.state.taskModal})}},{key:"onUpdateHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.selectedTask;this.setState({selectedTask:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"export2Text",value:function(){J.apiFetch("/admin/export2TextTask",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(e){e.status&&Object(U.saveSync)(e.data,"tasks.txt")}).catch(function(e){alert(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.taskList,c=t.selectedTask,l=t.editModal,s=t.deleteModal,o=t.newModal,i=[{Header:"Currect Tasks",id:"_id",accessor:function(e){return r.a.createElement(y.a,{type:"checkbox",id:"eCheckbox1",value:e._id,label:"\xa0"})}},{Header:"ActivityCode",accessor:"code"},{Header:"AcitivityName",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Actions",id:"actions",accessor:function(t){return r.a.createElement("div",null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showEditTaskModal(t._id)}},r.a.createElement("i",{className:"lnr-pencil"}," ")),r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDeleteConfirmModal(t._id)}},r.a.createElement("i",{className:"lnr-trash"}," ")))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{md:"12"},r.a.createElement(N.a,{className:"main-card mb-3"},r.a.createElement(C.a,{className:"text-right"},r.a.createElement("i",{className:"lnr-database"}," ")," Tasks Management",r.a.createElement("div",{className:"btn-actions-pane-right"},r.a.createElement(k.a,{outline:!0,className:"btn-shadow",color:"secondary",onClick:function(t){return e.showAddTaskModal()},style:{marginRight:10}},r.a.createElement("i",{className:"lnr-file-add"}," ")),r.a.createElement(k.a,{outline:!0,className:"btn-shadow",color:"secondary",onClick:function(t){return e.export2Text()},style:{marginRight:10}},r.a.createElement("i",{className:"pe-7s-diskette"}," ")),r.a.createElement(Q,{api:"/admin/loadtaskfromtext",setData:this.loadText}))),r.a.createElement(T.a,null,r.a.createElement(P.a,{data:a,columns:i,defaultPageSize:10,className:"-striped -highlight"}))))),r.a.createElement(j.a,{isOpen:o,toggle:this.newToggle},r.a.createElement(w.a,null,"New Task"),r.a.createElement(R.a,null,r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Task Code: "),r.a.createElement(M.a,{name:"code",placeholder:"Input...",onChange:this.onUpdateHandleChange})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Task Name: "),r.a.createElement(M.a,{name:"title",placeholder:"Input...",onChange:this.onUpdateHandleChange})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Description: "),r.a.createElement(M.a,{name:"description",placeholder:"Input...",onChange:this.onUpdateHandleChange}))),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.newToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.newTask},"Create"))),r.a.createElement(j.a,{isOpen:l,toggle:this.editToggle},r.a.createElement(w.a,null,"Update Task"),r.a.createElement(R.a,null,r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Task Name: "),r.a.createElement(M.a,{name:"title",placeholder:"Input...",value:c?c.title:"",onChange:this.onUpdateHandleChange})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Description: "),r.a.createElement(M.a,{name:"description",placeholder:"Input...",value:c?c.description:"",onChange:this.onUpdateHandleChange}))),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.editToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.editTask},"Update"))),r.a.createElement(j.a,{isOpen:s,toggle:this.deleteToggle},r.a.createElement(w.a,null,"Delete Confirm"),r.a.createElement(R.a,null,"Do you want to delete current task?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.deleteToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.deleteTask},"Confirm"))))}}]),a}(r.a.Component);var oe=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(se),ie=a(30),me=a.n(ie);function ue(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var de=function(e){Object(u.a)(a,e);var t=ue(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={loadURL:"",selectedHistory:null,selectedWork:null,historyList:[],currentHistory:{_id:-1,title:"",description:"",start:me()(new Date).format("HH: mm"),end:me()(new Date).format("HH: mm"),hour:"0 mins"},deleteModal:!1},n.toggle=n.toggle.bind(Object(b.a)(n)),n.deleteToggle=n.deleteToggle.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.apiFetch("/admin/loadhistory",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){e.setState({historyList:t.result})}).catch(function(e){console.log(e)})}},{key:"toggle",value:function(e){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"handleChange",value:function(e){this.setState({selectedHistory:e});var t=this.state.historyList.filter(function(t){return t._id===e.value});this.setState({currentHistory:t[0]})}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.currentHistory;this.setState({currentHistory:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"onHandleWorkChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.selectedHistory;this.setState({selectedHistory:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"showDeleteConfirmModal",value:function(e){var t=this.state.historyList.filter(function(t){return t._id===e});this.setState({selectedHistory:t[0]}),this.setState({deleteModal:!0})}},{key:"deleteToggle",value:function(){this.setState({deleteModal:!this.state.deleteModal})}},{key:"deleteHistory",value:function(){var e=this,t=this.state.selectedHistory,a={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},t))};J.apiFetch("/admin/delete/history",a).then(function(t){t.status&&(e.setState({historyList:t.result}),e.deleteToggle())}).catch(function(e){})}},{key:"export2TextHistory",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={method:"GET",headers:{"Content-Type":"application/json"}},J.apiFetch("/admin/export2TextHistory",t).then(function(e){e.status&&alert("Successful")}).catch(function(e){alert(e)}),"sdfsdf",Object(U.saveSync)("sdfsdf","example2.txt");case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.deleteModal,c=t.historyList,l=[{Header:"Date",accessor:"date",width:120},{Header:"ActivityID",accessor:"taskcode",width:150},{Header:"Cust. Co./Last Name",accessor:"lastname",width:150},{Header:"Cust. First Name",accessor:"firstname",width:150},{Header:"Units",accessor:"hour",width:80},{Header:"Start Time",accessor:"starttime",width:100},{Header:"Stop Time",accessor:"endtime",width:100},{Header:"Notes",accessor:"notes"},{Header:"Emp. Record ID",accessor:"contractor",width:200},{Header:"Actions",id:"actions",width:80,accessor:function(t){return r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDeleteConfirmModal(t._id)}},r.a.createElement("i",{className:"lnr-trash"}," "))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters",style:{paddingLeft:"20px",paddingRight:20}},r.a.createElement(O.a,{md:"12",style:{paddingLeft:"20px"}},r.a.createElement(N.a,{className:"main-card mb-3"},r.a.createElement(C.a,{className:"text-right"},"History"),r.a.createElement(T.a,null,r.a.createElement(P.a,{data:c,columns:l,defaultPageSize:10,className:"-striped -highlight"}))))),r.a.createElement(j.a,{isOpen:a,toggle:this.deleteToggle},r.a.createElement(w.a,null,"Delete Confirm"),r.a.createElement(R.a,null,"Do you want to delete this history?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.deleteToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.deleteHistory},"Confirm"))))}}]),a}(r.a.Component);var he=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(de);function fe(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var pe=function(e){Object(u.a)(a,e);var t=fe(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{md:12},r.a.createElement(N.a,null,r.a.createElement(C.a,null,"InformationPage"),r.a.createElement(T.a,null,r.a.createElement(S.a,null,r.a.createElement(O.a,{md:24},r.a.createElement("ul",null,r.a.createElement("li",null,"How to get all the contractors and save it to the website"),r.a.createElement("li",null,"How to get all the tasks and save it to the website"),r.a.createElement("li",null,"General information on how to use the system"))),r.a.createElement(O.a,{md:24,style:{textAlign:"center"}},r.a.createElement("p",null,"Have you completed all the above steps now it\u2019s time toregister your company.Click the below link to register your company"))))))))}}]),a}(r.a.Component);var ge=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(pe);function Ee(){return r.a.createElement(h.a,null,r.a.createElement(f.a,{path:"/dashboard/users",component:V}),r.a.createElement(f.a,{path:"/dashboard/dockets",component:re}),r.a.createElement(f.a,{path:"/dashboard/tasks",component:oe}),r.a.createElement(f.a,{path:"/dashboard/history",component:he}),r.a.createElement(f.a,{path:"/dashboard/information",component:ge}))}var be=a(464),ve=a(458),ye=a(459),ke=a(342),Se=a(341);function Oe(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Ne=function(e){Object(u.a)(a,e);var t=Oe(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header-btn-lg pr-0"},r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement(be.a,null,r.a.createElement(ve.a,{color:"link",className:"p-0"},r.a.createElement(Se.a,{className:"ml-2 opacity-8",icon:ke.a})),r.a.createElement(ye.a,{right:!0,className:"rm-pointers dropdown-menu-lg"},r.a.createElement("div",{className:"dropdown-menu-header"},r.a.createElement("div",{className:"dropdown-menu-header-inner bg-info"},r.a.createElement("div",{className:"menu-header-content text-left"},r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left mr-3"}),r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"widget-heading"},t.username)),r.a.createElement("div",{className:"widget-content-right mr-2"},r.a.createElement(k.a,{className:"btn-pill btn-shadow btn-shine",color:"focus",onClick:function(t){return e.props.logout()}},"Logout")))))))))),r.a.createElement("div",{className:"widget-content-left  ml-3 header-user-info"},r.a.createElement("div",{className:"widget-heading"},t.username))))))}}]),a}(r.a.Component),Ce=Object(p.b)(null)(Ne);function Te(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var je=function(e){Object(u.a)(a,e);var t=Te(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={openLeft:!1,openRight:!1,relativeWidth:!1,width:280,noTouchOpen:!1,noTouchClose:!1},n.state={active:!1,mobile:!1,activeSecondaryMenuMobile:!1},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app-header__logo"},r.a.createElement("div",{className:"logo-src "}),r.a.createElement("div",{className:"header__pane ml-auto"})))}}]),a}(r.a.Component),we=Object(p.b)(function(e){return{}},function(e){return{}})(je),Re={logout:function(){return console.log("headerprops",this),function(e){J.logout(),e({type:xe.LOGOUT}),window.location.reload()}}},xe={LOGOUT:"USERS_LOGOUT"};var Le=Re;var Me=Object(p.b)(function(e){return{user:e.authentication.user}},Le)(function(e){var t=e.user,a=e.logout;return r.a.createElement("div",{className:"app-header header-shadow"},r.a.createElement(we,null),r.a.createElement("div",{className:"app-header__content"}),r.a.createElement("div",{className:"app-header-right"},r.a.createElement(Ce,{user:t,logout:a})))}),He=a(466),De=a(345),Pe=a.n(De),Ue=[{icon:"lnr-user",label:"Contractors",to:"/dashboard/users"},{icon:"lnr-book",label:"Dockets",to:"/dashboard/dockets"},{icon:"lnr-database",label:"Tasks",to:"/dashboard/tasks"},{icon:"lnr-database",label:"History",to:"/dashboard/history"},{icon:"lnr-highlight",label:"Information",to:"/dashboard/information"}];function _e(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Ie=function(e){Object(u.a)(a,e);var t=_e(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Pe.a,{content:Ue,activeLinkFromLocation:!0,className:"vertical-nav-menu",iconNamePrefix:"",classNameStateIcon:"pe-7s-angle-down"}))}},{key:"isPathActive",value:function(e){return this.props.location.pathname.startsWith(e)}}]),a}(n.Component),Fe=Object(He.a)(Ie);function Ae(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Ge=function(e){Object(u.a)(a,e);var t=Ae(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e.toggleMobileSidebar=function(){var t=e.props,a=t.enableMobileMenu;(0,t.setEnableMobileMenu)(!a)},e}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"sidebar-mobile-overlay",onClick:this.toggleMobileSidebar}),r.a.createElement("div",{className:"app-sidebar bg-vicious-stance sidebar-shadow sidebar-text-light"},r.a.createElement(we,null),r.a.createElement("div",{className:"app-sidebar__inner"},r.a.createElement(Fe,null))))}}]),a}(n.Component),We=Object(p.b)(function(e){return{}},function(e){return{}})(Ge);function Je(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var qe=function(e){Object(u.a)(a,e);var t=Je(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app-container app-theme-white fixed-header"},r.a.createElement(Me,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(We,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},this.props.children)))))}}]),a}(r.a.Component);function Be(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Qe=function(e){Object(u.a)(a,e);var t=Be(a);function a(e){var n;Object(s.a)(this,a);(n=t.call(this,e)).props.dispatch;return n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(qe,null,r.a.createElement(Ee,null)))}}]),a}(r.a.Component);function ze(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Ke=function(e){Object(u.a)(a,e);var t=ze(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"app-header header-shadow"},r.a.createElement(we,null),r.a.createElement("div",{className:"app-header__content"},r.a.createElement("div",{className:"app-header-left"}),r.a.createElement("div",{className:"app-header-right"},r.a.createElement(k.a,{color:"primary",onClick:function(t){return e.props.login()}},"Login")))))}}]),a}(r.a.Component),Ve=Object(p.b)(function(e){return{}},function(e){return{}})(Ke),Ye=a(348),Xe=a.n(Ye);function Ze(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var $e=function(e){Object(u.a)(a,e);var t=Ze(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).props.history.push("/login"),n.login=n.login.bind(Object(b.a)(n));n.props.dispatch;return n}return Object(o.a)(a,[{key:"login",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement("div",{className:"app-container app-theme-white fixed-header"},r.a.createElement(n.Fragment,null,r.a.createElement(Ve,{login:this.login}),r.a.createElement("img",{src:Xe.a,className:"full_image"})))}}]),a}(r.a.Component);var et=Object(p.b)()($e),tt=a(82),at=a.n(tt);function nt(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var rt=function(e){Object(u.a)(a,e);var t=nt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:{email:"",password:""},submitted:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state.user;if(""!==a.username&&""!==a.password){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},a))};J.apiFetch("/auth/contractor/login",n).then(function(e){e.result&&alert(e.result),e.status?(J.saveUser(e.user),t.props.history.push("/contractor/task")):e.result||e.status||alert(e.message)})}}},{key:"render",value:function(){var e=this,t=(this.props.loggingIn,this.state),a=t.user,c=t.submitted;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"h-100"},r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{lg:"4",md:"12",className:"h-100 d-flex bg-white justify-content-center align-items-center"},r.a.createElement(O.a,{lg:"12",md:"10",sm:"12",className:"mx-auto app-login-box"},r.a.createElement("div",{className:"app-logo"}),r.a.createElement("h1",{className:"mb-5 text-center"},r.a.createElement("div",null,"Invite")),r.a.createElement("div",null,r.a.createElement(x.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(S.a,{form:!0},r.a.createElement(O.a,{md:6,style:{margin:"auto"}},r.a.createElement(O.a,{md:12},r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"text",name:"username",placeholder:"UserName here...",value:a.username,onChange:this.handleChange}),c&&!a.username&&r.a.createElement("div",{className:"help-block"},"Username is required"))),r.a.createElement(O.a,{md:12},r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"password",name:"password",placeholder:"Password here...",value:a.password,onChange:this.handleChange}),c&&!a.password&&r.a.createElement("div",{className:"help-block"},"Password is required"))),r.a.createElement(O.a,{md:12,className:"text-center mt-3"},r.a.createElement(k.a,{color:"primary",size:"lg",block:!0},"Login")))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"ml-auto"})))))),r.a.createElement(O.a,{lg:"8",className:"d-none d-lg-block"},r.a.createElement("div",{className:"slider-light"},r.a.createElement("img",{src:at.a,className:"full_image"}))))))}}]),a}(r.a.Component);var ct=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(rt),lt=a(460),st={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE"};var ot={login:function(e){var t=this;return console.log("user",this),function(a){if(a(function(e){return{type:st.LOGIN_REQUEST,user:e}}({user:e})),""!==e.username&&""!==e.password){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/auth/admin/login",n).then(function(e){return e.success?(J.saveToken(e.token),J.saveUser(e.user),a((n=e.user,{type:st.LOGIN_SUCCESS,user:n})),t.history.push("/dashboard/users"),!0):(alert(e.message),!1);var n})}}},register:function(e){return function(t){t(function(e){return{type:st.REGISTER_REQUEST,user:e}}(e))}}};function it(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var mt=function(e){Object(u.a)(a,e);var t=it(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:{username:"",password:""},submitted:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state.user;this.props.login(t)}},{key:"render",value:function(){var e=this,t=this.props.loggedIn,a=this.state,c=a.user,l=a.submitted;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"h-100"},r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{lg:"4",md:"12",className:"h-100 d-flex bg-white justify-content-center align-items-center"},r.a.createElement(O.a,{lg:"12",md:"10",sm:"12",className:"mx-auto app-login-box"},r.a.createElement("div",{className:"app-logo"}),r.a.createElement("h1",{className:"mb-5 text-center"}," ADMIN "),r.a.createElement("div",null,t?"":r.a.createElement(x.a,{className:"form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(S.a,{form:!0},r.a.createElement(O.a,{md:6,style:{margin:"auto"}},r.a.createElement(O.a,{md:12},r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"input",name:"username",placeholder:"Username here...",value:c.username,onChange:this.handleChange}),l&&!c.username&&r.a.createElement("div",{className:"help-block"},"Username is required"))),r.a.createElement(O.a,{md:12},r.a.createElement(L.a,null,r.a.createElement(M.a,{type:"password",name:"password",placeholder:"Password here...",value:c.password,onChange:this.handleChange}),l&&!c.password&&r.a.createElement("div",{className:"help-block"},"Password is required"))),r.a.createElement(O.a,{md:12,className:"text-center mt-3"},r.a.createElement(k.a,{color:"primary",size:"lg",block:!0},"Login")),r.a.createElement(O.a,{md:12,className:"text-center mt-3"},r.a.createElement("h6",{className:"mt-3"},"No account?"," ",r.a.createElement(lt.a,{to:"/company/instruction",className:"btn btn-link"},"SignUp Now"))))),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:"ml-auto"})))))),r.a.createElement(O.a,{lg:"8",className:"d-none d-lg-block"},r.a.createElement("div",{className:"slider-light"},r.a.createElement("img",{src:at.a,className:"full_image"}))))))}}]),a}(r.a.Component),ut=Object(p.b)(null,ot)(mt);function dt(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var ht=function(e){Object(u.a)(a,e);var t=dt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={user:{username:"",email:"",password:"",repeatpassword:""},validation:{username:"",email:"",password:"",repeatpassword:""},submitted:!1,checkpassword:!1},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.user;this.setState({user:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var a=this.state.user;if(this.setState({submitted:!0}),console.log("first"),""!==a.username&&""!==a.eamil&&""!==a.repeatpassword&&""!==a.password){console.log("all");var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},a))};a.repeatpassword===a.password?J.apiFetch("/auth/admin/register",n).then(function(e){e.status?(t.setState({user:e.user}),t.props.history.push("/login")):t.setState({validation:e}),e.result&&alert(e.result)}).catch(function(e){alert(e)}):this.setState({checkpassword:!0})}}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.submitted,c=e.validation;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"h-100"},r.a.createElement(S.a,{className:"h-100 no-gutters"},r.a.createElement(O.a,{lg:"4",md:"12",className:"h-100 d-md-flex d-sm-block bg-white justify-content-center align-items-center"},r.a.createElement(O.a,{lg:"12",md:"10",sm:"12",className:"mx-auto app-login-box"},r.a.createElement("div",{className:"app-logo"}),r.a.createElement("h1",{className:"text-center"},r.a.createElement("div",null,"WELCOME")),r.a.createElement("div",null,r.a.createElement(x.a,null,r.a.createElement(S.a,{form:!0},r.a.createElement(O.a,{md:12},r.a.createElement(L.a,{className:a&&!t.username?" has-error":""},r.a.createElement(H.a,{for:"exampleName"},r.a.createElement("span",{className:"text-danger"},"*")," ","User Name"),r.a.createElement(M.a,{type:"text",name:"username",id:"exampleName",placeholder:"Name here...",value:t.username,onChange:this.handleChange}),a&&!t.username&&r.a.createElement("div",{className:"help-block"},"UserName is required"),a&&c.username&&r.a.createElement("div",{className:"help-block"},c.username))),r.a.createElement(O.a,{md:12},r.a.createElement(L.a,{className:a&&!t.email?" has-error":""},r.a.createElement(H.a,{for:"exampleEmail"},r.a.createElement("span",{className:"text-danger"},"*")," ","Email"),r.a.createElement(M.a,{type:"email",name:"email",id:"exampleEmail",placeholder:"Email here...",value:t.email,onChange:this.handleChange}),a&&!t.email&&r.a.createElement("div",{className:"help-block"},"Email is required"),a&&c.email&&r.a.createElement("div",{className:"help-block"},c.email))),r.a.createElement(O.a,{md:12},r.a.createElement(L.a,{className:a&&!t.password?" has-error":""},r.a.createElement(H.a,{for:"examplePassword"},r.a.createElement("span",{className:"text-danger"},"*")," ","Password"),r.a.createElement(M.a,{type:"password",name:"password",id:"examplePassword",placeholder:"Password here...",value:t.password,onChange:this.handleChange}),a&&!t.password&&r.a.createElement("div",{className:"help-block"},"Password is required"),a&&c.password&&r.a.createElement("div",{className:"help-block"},c.password))),r.a.createElement(O.a,{md:12,className:a&&!t.repeatpassword?" has-error":""},r.a.createElement(L.a,null,r.a.createElement(H.a,{for:"examplePasswordRep"},r.a.createElement("span",{className:"text-danger"},"*")," ","Repeat Password"),r.a.createElement(M.a,{type:"password",name:"repeatpassword",id:"examplePasswordRep",placeholder:"Repeat Password here...",value:t.repeatpassword,onChange:this.handleChange}),a&&!t.repeatpassword&&r.a.createElement("div",{className:"help-block"},"Password is not correct"),this.state.checkpassword&&r.a.createElement("div",{className:"help-block"},"Reapeat Password is not correct"),a&&c.repeatpassword&&r.a.createElement("div",{className:"help-block"},c.repeatpassword)))),r.a.createElement("div",{className:"mt-4 d-flex text-center align-items-center",style:{float:"right"}},r.a.createElement(k.a,{color:"primary",className:"btn-wide btn-pill btn-shadow btn-hover-shine",size:"lg",onClick:this.handleSubmit},"Create Account")),r.a.createElement("div",{className:"mt-4 d-flex text-center align-items-center"},r.a.createElement("h5",{className:"mb-0"},"Already have an account?"," ",r.a.createElement(lt.a,{to:"/login",className:"btn btn-link"},"Sign In"))))))),r.a.createElement(O.a,{lg:"8",className:"d-lg-flex d-xs-none"},r.a.createElement("div",{className:"slider-light"},r.a.createElement("img",{src:at.a,className:"full_image"}))))))}}]),a}(r.a.Component),ft=Object(p.b)()(ht),pt=a(122),gt=a.n(pt),Et=a(350);function bt(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var vt=function(e){Object(u.a)(a,e);var t=bt(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).makeblob=function(e){var t,a,n;if(-1===e.indexOf(";base64,"))return a=(t=e.split(","))[0].split(":")[1],n=decodeURIComponent(t[1]),new Blob([n],{type:a});a=(t=e.split(";base64,"))[0].split(":")[1];for(var r=(n=window.atob(t[1])).length,c=new Uint8Array(r),l=0;l<r;++l)c[l]=n.charCodeAt(l);return new Blob([c],{type:a})},n.editWork=function(){var e=n.state.selectedWork,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/contractor/editwork",t).then(function(e){e.status&&(n.setState({workList:e.result}),n.editToggle())}).catch(function(e){})},n.deleteWork=function(){var e=n.state.selectedWork,t={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(Object(E.a)({},e))};J.apiFetch("/contractor/deletework",t).then(function(e){e.status&&(n.setState({workList:e.result}),n.deleteToggle())}).catch(function(e){})},n.state={loadURL:"",signing:!1,signed:!1,pdf:null,dropdownOpen:!1,selectedTask:null,selectedWork:null,selectedStartTime:new Date,selectedEndTime:new Date,selectedLunchTime:new Date,user:null,taskList:[],workList:[],currentTask:{_id:-1,title:"",description:"",start:me()(new Date).format("HH: mm"),end:me()(new Date).format("HH: mm"),hour:"0 mins"},lunchTime:{lunch:me()(new Date).format("HH: mm"),lunchhour:""},editModal:!1,deleteModal:!1,sendModal:!1},n.tasktemp=[],n.sigPad={},n.toggle=n.toggle.bind(Object(b.a)(n)),n.editToggle=n.editToggle.bind(Object(b.a)(n)),n.deleteToggle=n.deleteToggle.bind(Object(b.a)(n)),n.sendToggle=n.sendToggle.bind(Object(b.a)(n)),n.onHandleChange=n.onHandleChange.bind(Object(b.a)(n)),n.onHandleLunchChange=n.onHandleLunchChange.bind(Object(b.a)(n)),n.onHandleWorkChange=n.onHandleWorkChange.bind(Object(b.a)(n)),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.setState({user:J.getCurrentUser()})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.user;J.apiFetch("/contractor/loadtask",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){e.setState({taskList:t.result}),t=t.result;for(var a=0;a<t.length;a++)e.tasktemp.push({value:t[a]._id,label:t[a].title})}).catch(function(e){console.log(e)});var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},t))};J.apiFetch("/contractor/loadworkaday",a).then(function(t){e.setState({workList:t.result})}).catch(function(e){console.log(e)})}},{key:"toggle",value:function(e){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"handleChange",value:function(e){this.setState({selectedTask:e});var t=this.state.taskList.filter(function(t){return t._id===e.value});this.setState({currentTask:t[0]})}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.currentTask;this.setState({currentTask:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"onHandleStartTimeChange",value:function(e){var t,a=this.state,n=a.currentTask,r=a.selectedEndTime;this.setState({selectedStartTime:e});var c="",l=Math.floor(me()(r).diff(me()(e),"minutes")/60);c=l>0?l+"hr "+me()(r).diff(me()(e),"minutes")%60+"mins":me()(r).diff(me()(e),"minutes")%60+"mins",this.setState({currentTask:Object(E.a)({},n,(t={},Object(g.a)(t,"start",me()(e).format("HH:mm")),Object(g.a)(t,"hour",c),t))})}},{key:"onHandleEndTimeChange",value:function(e){var t,a=this.state,n=a.currentTask,r=a.selectedStartTime;this.setState({selectedEndTime:e});var c="",l=Math.floor(me()(e).diff(me()(r),"minutes")/60);c=l>0?l+"hr "+me()(e).diff(me()(r),"minutes")%60+"mins":me()(e).diff(me()(r),"minutes")%60+"mins",this.setState({currentTask:Object(E.a)({},n,(t={},Object(g.a)(t,"end",me()(e).format("HH:mm")),Object(g.a)(t,"hour",c),t))})}},{key:"onHandleWorkChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.selectedWork;this.setState({selectedWork:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"onHandleLunchTimeChange",value:function(e){var t=this.state.lunchTime;this.setState({lunchTime:Object(E.a)({},t,Object(g.a)({},"lunch",me()(e).format("HH:mm")))}),this.setState({selectedLunchTime:e})}},{key:"onHandleLunchChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=this.state.lunchTime;this.setState({lunchTime:Object(E.a)({},r,Object(g.a)({},a,n))})}},{key:"saveTask",value:function(){var e=this,t=this.state,a=t.currentTask,n=t.user;if(void 0!==a.hour&&void 0!==a.start&&void 0!==a.end&&-1!==a._id){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({task:Object(E.a)({},a),user:Object(E.a)({},n)})};J.apiFetch("/contractor/savetask",r).then(function(t){e.setState({workList:t.result})}).catch(function(e){console.log(e)})}else alert("Please fill up all inputs")}},{key:"saveLunch",value:function(){var e=this,t=this.state,a=t.lunchTime,n=t.user;if(console.log("lunch",a.lunch),void 0!==a.lunchhour&&void 0!==a.lunch){var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(E.a)({},a,n))};J.apiFetch("/contractor/savelunch",r).then(function(t){e.setState({workList:t.result})}).catch(function(e){console.log(e)})}else alert("Please fill up")}},{key:"loadPDF",value:function(){var e=this.state,t=e.workList,a=e.user;if(this.sendToggle(),t!==[]){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a})};J.apiFetch("/contractor/loaddoc",n).then(function(e){console.log(e),e.status?alert("Send successful"):alert("Sent already. You can't send again")})}else alert("No data")}},{key:"blob2arraybuffer",value:function(){var e=Object(Z.a)(X.a.mark(function e(t){var a;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:a=e.sent,this.setState({pdf:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadAllWork",value:function(){var e=this,t=this.state.user._id,a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:t})};J.apiFetch("/contractor/loadworkall",a).then(function(t){e.setState({workList:t.result})}).catch(function(e){console.log(e)})}},{key:"showEditContractorModal",value:function(e){var t=this.state.workList.filter(function(t){return t._id===e});this.setState({selectedWork:t[0]}),this.setState({editModal:!0})}},{key:"showDeleteConfirmModal",value:function(e){var t=this.state.workList.filter(function(t){return t._id===e});this.setState({selectedWork:t[0]}),this.setState({deleteModal:!0})}},{key:"showSendConfirmModal",value:function(e){this.setState({sendModal:!0})}},{key:"editToggle",value:function(){this.setState({editModal:!this.state.editModal})}},{key:"deleteToggle",value:function(){this.setState({deleteModal:!this.state.deleteModal})}},{key:"sendToggle",value:function(){this.setState({sendModal:!this.state.sendModal})}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedTask,c=t.currentTask,l=t.loadURL,s=t.workList,o=t.editModal,i=t.deleteModal,m=t.sendModal,u=t.selectedWork,d=[{Header:"TaskCode",accessor:"taskcode"},{Header:"Title",accessor:"tasktitle"},{Header:"Start",accessor:"starttime"},{Header:"End",accessor:"endtime"},{Header:"Lunch",accessor:"lunchtime"},{Header:"Hour",accessor:"hour"},{Header:"Notes",accessor:"notes"},{Header:"Actions",id:"actions",accessor:function(t){return r.a.createElement("div",null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showEditContractorModal(t._id)}},r.a.createElement("i",{className:"lnr-pencil"}," ")),r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:function(a){return e.showDeleteConfirmModal(t._id)}},r.a.createElement("i",{className:"lnr-trash"}," ")))}}];return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,{className:"h-100 no-gutters",style:{paddingLeft:"20px",paddingRight:20}},r.a.createElement(O.a,{md:"4"},r.a.createElement(N.a,null,r.a.createElement(C.a,null,"Task Management"),r.a.createElement(T.a,null,r.a.createElement(L.a,null,r.a.createElement(H.a,null,"Title: "),r.a.createElement(Et.a,{value:a,onChange:this.handleChange.bind(this),options:this.tasktemp})),r.a.createElement(L.a,null,r.a.createElement(H.a,null,"Description: "),r.a.createElement(M.a,{className:"mb-2 mr-sm-2 ",value:c?c.description:"",readOnly:!0})),r.a.createElement(x.a,null,r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Start Time: "),r.a.createElement(gt.a,{selected:this.state.selectedStartTime,onChange:this.onHandleStartTimeChange.bind(this),showTimeSelect:!0,showTimeSelectOnly:!0,className:"form-control",timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"End Time: "),r.a.createElement(gt.a,{selected:this.state.selectedEndTime,onChange:this.onHandleEndTimeChange.bind(this),showTimeSelect:!0,showTimeSelectOnly:!0,className:"form-control",timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})),r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Hour: "),r.a.createElement(M.a,{name:"hour",value:c&&c.hour?c.hour:"",className:"form-control",readOnly:!0})),r.a.createElement(L.a,null,r.a.createElement(H.a,null,"Notes: "),r.a.createElement(M.a,{name:"notes",className:"mb-2 mr-sm-2 ",value:c&&c.notes?c.notes:"",onChange:this.onHandleChange})),r.a.createElement(S.a,{style:{float:"right"}},r.a.createElement(k.a,{type:"button",color:"secondary",className:"mr-5",onClick:this.saveTask.bind(this)},"Save"))))),r.a.createElement(N.a,{className:"mt-3"},r.a.createElement(C.a,null,"Lunch Time"),r.a.createElement(T.a,null,r.a.createElement(x.a,null,r.a.createElement(L.a,{className:"mb-2"},r.a.createElement(H.a,{className:"mr-sm-2"},"Lunch Time: "),r.a.createElement(gt.a,{selected:this.state.selectedLunchTime,onChange:this.onHandleLunchTimeChange.bind(this),showTimeSelect:!0,showTimeSelectOnly:!0,className:"form-control",timeIntervals:15,timeCaption:"Time",dateFormat:"h:mm aa"})),r.a.createElement(L.a,{className:"mb-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Hour: "),r.a.createElement(M.a,{mask:"9",name:"lunchhour",value:c?c.lunchhour:"",className:"form-control",onChange:this.onHandleLunchChange})),r.a.createElement(S.a,{style:{float:"right"}},r.a.createElement(k.a,{type:"button",color:"secondary",className:"mr-5",onClick:this.saveLunch.bind(this)},"Save")))))),r.a.createElement(O.a,{md:"8",style:{paddingLeft:"20px"}},r.a.createElement(N.a,{className:"mb-5"},r.a.createElement(C.a,null,"Preview Working Today",r.a.createElement("div",{className:"btn-actions-pane-right"},r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.showSendConfirmModal.bind(this),style:{marginRight:"15px"}},r.a.createElement("i",{className:"lnr-location"}," Send")))),r.a.createElement(T.a,null,r.a.createElement(P.a,{data:s,columns:d,defaultPageSize:10,className:"-striped -highlight"}))),r.a.createElement(N.a,{className:"main-card mb-3",style:{display:"none"}},r.a.createElement(C.a,{className:"text-right"},r.a.createElement("i",{className:"lnr-user"}," "),"Sign Document",r.a.createElement("div",{className:"btn-actions-pane-right"})),r.a.createElement(T.a,{className:"text-center"},""!==l?r.a.createElement("iframe",{src:l,frameBorder:"1"}):"",r.a.createElement("div",{style:{marginTop:"50px",textAlign:"center"}}))))),r.a.createElement(j.a,{isOpen:o,toggle:this.editToggle},r.a.createElement(w.a,null," Edit Work"),r.a.createElement(R.a,null,u&&r.a.createElement(x.a,null,u.starttime&&r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Start Time: "),r.a.createElement(M.a,{name:"starttime",placeholder:"12:59 am",value:u&&u.starttime?u.starttime:"",onChange:this.onHandleWorkChange})),u.endtime&&r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"End Time: "),r.a.createElement(M.a,{name:"endtime",placeholder:"12:59 am",value:u&&u.endtime?u.endtime:"",onChange:this.onHandleWorkChange})),u.lunchtime&&r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Lunch Time: "),r.a.createElement(M.a,{name:"lunchtime",placeholder:"12:59 am",value:u&&u.lunchtime?u.lunchtime:"",onChange:this.onHandleWorkChange})),u.hour&&r.a.createElement(L.a,{className:"mb-2 mr-sm-2 "},r.a.createElement(H.a,{className:"mr-sm-2"},"Hour: "),r.a.createElement(M.a,{name:"hour",value:u&&u.hour?u.hour:"",className:"form-control",onChange:this.onHandleWorkChange})),u.notes&&r.a.createElement(L.a,null,r.a.createElement(H.a,null,"Notes: "),r.a.createElement(M.a,{name:"notes",className:"mb-2 mr-sm-2 ",value:u&&u.notes?u.notes:"",onChange:this.onHandleWorkChange})),r.a.createElement(S.a,{style:{float:"right"}},r.a.createElement(k.a,{type:"button",color:"secondary",className:"mr-5",onClick:this.editWork.bind(this)},"Save"))))),r.a.createElement(j.a,{isOpen:i,toggle:this.deleteToggle},r.a.createElement(w.a,null,"Delete Confirm"),r.a.createElement(R.a,null,"Do you want to delete this work history?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.deleteToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.deleteWork},"Confirm"))),r.a.createElement(j.a,{isOpen:m,toggle:this.sendToggle},r.a.createElement(w.a,null,"Send Confirm"),r.a.createElement(R.a,null,"You can send only once per day. Are you sure you send this work?"),r.a.createElement(D.a,null,r.a.createElement(k.a,{outline:!0,className:"btn-shadow btn-dashed",color:"secondary",onClick:this.sendToggle},"Cancel"),r.a.createElement(k.a,{color:"secondary",onClick:this.loadPDF.bind(this)},"Confirm"))))}}]),a}(r.a.Component);var yt=Object(p.b)(function(e){return{loggingIn:e.authentication.loggingIn}})(vt),kt=a(116),St=a.n(kt);function Ot(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}function Nt(){var e=Object(_.a)(["\n    padding: 100px 200px;\n"]);return Nt=function(){return e},e}var Ct=I.a.div(Nt()),Tt=function(e){Object(u.a)(a,e);var t=Ot(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{style:{minHeight:500}},r.a.createElement(Ct,null,r.a.createElement(S.a,null,r.a.createElement(O.a,{md:12},r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",null,"Register Company"))),r.a.createElement(O.a,{md:12,style:{marginTop:50}},r.a.createElement(O.a,{md:4,style:{margin:"auto"}},r.a.createElement("ul",null,r.a.createElement("li",null,"How to get all the contractors and save it to the website"),r.a.createElement("li",null,"How to get all the tasks and save it to the website"),r.a.createElement("li",null,"General information on how to use the system")))),r.a.createElement(O.a,{md:12,className:"text-center"},r.a.createElement("img",{src:St.a,width:"200px"})),r.a.createElement(O.a,{md:12,style:{textAlign:"center",marginTop:50}},r.a.createElement(lt.a,{to:"/company/loaddata"},r.a.createElement(k.a,{type:"primary"},"LOAD")))))))}}]),a}(r.a.Component);function jt(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}function wt(){var e=Object(_.a)(["\n    padding: 100px 200px;\n"]);return wt=function(){return e},e}function Rt(){var e=Object(_.a)(["\n    display: flex;\n    justify-content: space-between;\n    flex-direction: row;\n    margin-top: 20px;\n    width: 100%;\n    padding: 0px 350px;\n"]);return Rt=function(){return e},e}var xt=I.a.div(Rt()),Lt=I.a.div(wt()),Mt=function(e){Object(u.a)(a,e);var t=jt(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{style:{minHeight:500}},r.a.createElement(Lt,null,r.a.createElement(S.a,null,r.a.createElement(O.a,{md:12},r.a.createElement("div",{className:"text-center"},r.a.createElement("h4",null,"Register Company"))),r.a.createElement(O.a,{md:12,style:{marginTop:50}},r.a.createElement(O.a,{md:4,style:{margin:"auto"}},r.a.createElement("ul",null,r.a.createElement("li",null,"How to get all the contractors and save it to the website"),r.a.createElement("li",null,"How to get all the tasks and save it to the website"),r.a.createElement("li",null,"General information on how to use the system")))),r.a.createElement(O.a,{md:12,className:"text-center"},r.a.createElement("img",{src:St.a,width:"200px"})),r.a.createElement(xt,null,r.a.createElement(O.a,{md:6},r.a.createElement("i",{className:"lnr lnr-book"})," Add Contractors"),r.a.createElement(O.a,{md:3},r.a.createElement(Q,{api:"/admin/loaduserfromtext"}))),r.a.createElement(xt,null,r.a.createElement(O.a,{md:6},r.a.createElement("i",{className:"lnr lnr-book"})," Add Tasks"),r.a.createElement(O.a,{md:3},r.a.createElement(Q,{api:"/admin/loadtaskfromtext"})))),r.a.createElement(O.a,{md:12,style:{textAlign:"center",marginTop:20}},r.a.createElement("p",null,"Have you completed all the above steps. Now it\u2019s time to register your company. Click the below link to register your company.")),r.a.createElement(O.a,{md:12,style:{textAlign:"center",marginTop:50}},r.a.createElement(lt.a,{to:"/register"},r.a.createElement(k.a,{type:"primary"},"REGISTER"))))))}}]),a}(r.a.Component),Ht=a(118),Dt=a(461),Pt=function(e){var t=e.component,a=Object(Ht.a)(e,["component"]);return r.a.createElement(f.a,Object.assign({},a,{render:function(e){return window.localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(Dt.a,{to:{pathname:"/",state:{from:e.location}}})}}))},Ut=function(e){var t=e.component,a=Object(Ht.a)(e,["component"]);return r.a.createElement(f.a,Object.assign({},a,{render:function(e){return window.localStorage.getItem("user")?r.a.createElement(t,e):r.a.createElement(Dt.a,{to:{pathname:"/404",state:{from:e.location}}})}}))};function _t(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var It=function(e){Object(u.a)(a,e);var t=_t(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("h2",null,"Not Found Error Page")}}]),a}(n.Component);function Ft(){return r.a.createElement(h.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:et}),r.a.createElement(Pt,{path:"/dashboard",component:Qe}),r.a.createElement(Ut,{path:"/contractor/task",component:yt}),r.a.createElement(f.a,{path:"/login",component:ut}),r.a.createElement(f.a,{path:"/contractor/invite/*",component:ct}),r.a.createElement(Ut,{path:"/contractor/invite",component:ct}),r.a.createElement(Ut,{path:"/contractor",component:ct}),r.a.createElement(f.a,{path:"/company/instruction",component:Tt}),r.a.createElement(f.a,{path:"/company/loaddata",component:Mt}),r.a.createElement(f.a,{path:"/register",component:ft}),r.a.createElement(f.a,{path:"/404",component:It}))}function At(e){return function(){var t,a=Object(m.a)(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var n=Object(m.a)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(i.a)(this,t)}}var Gt=function(e){Object(u.a)(a,e);var t=At(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(Ft,null))}}]),a}(r.a.Component),Wt=a(62),Jt=a(349),qt=JSON.parse(localStorage.getItem("user")),Bt=qt?{loggedIn:!0,user:qt}:{};var Qt=Object(Wt.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case st.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case st.LOGIN_FAILURE:case st.LOGOUT:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case st.REGISTER_REQUEST:return{registering:!0};case st.REGISTER_SUCCESS:case st.REGISTER_FAILURE:return{};default:return e}}}),zt=Object(Wt.d)(Qt,Object(Wt.a)(Jt.a));l.a.render(r.a.createElement(p.a,{store:zt},r.a.createElement(Gt,null)),document.getElementById("root"))},82:function(e,t,a){e.exports=a.p+"static/media/citynights.94cc27a5.jpg"}},[[218,2,1]]]);
//# sourceMappingURL=main.86f1374b.chunk.js.map